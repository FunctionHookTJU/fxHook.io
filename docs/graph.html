<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å›¾ç®—æ³•å¯è§†åŒ– - å®‡ä½è§å‡½é’©</title>
    <link rel="stylesheet" href="../styles/style.css">
    <link rel="stylesheet" href="../styles/demo-common.css">
    <link rel="apple-touch-icon" sizes="180x180" href="../assets/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../assets/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../assets/icons/favicon-16x16.png">
    <link rel="manifest" href="../site.webmanifest">
    <script src="../scripts/header.js" defer></script>
    <style>
        /* é¡µé¢ä¸»é¢˜è‰² */
        :root {
            --theme-primary: #667eea;
            --theme-secondary: #764ba2;
            --prim-color: #11998e;
            --kruskal-color: #f093fb;
        }

        /* å·¥å…·é€‰æ‹©æ ‡ç­¾é¡µ */
        .tool-tabs {
            display: flex;
            background: #f0f0f0;
            border-radius: 12px 12px 0 0;
            overflow: hidden;
        }

        .tool-tab {
            flex: 1;
            padding: 18px 20px;
            text-align: center;
            cursor: pointer;
            font-weight: 600;
            font-size: 1.1em;
            transition: all 0.3s;
            border: none;
            background: transparent;
            color: #666;
        }

        .tool-tab:hover {
            background: #e8e8e8;
        }

        .tool-tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .tool-tab.active.prim-tab {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }

        .tool-tab.active.kruskal-tab {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        /* å·¥å…·å†…å®¹åŒº */
        .tool-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .tool-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* æ§åˆ¶é¢æ¿ */
        .control-panel {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .control-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }

        .control-btn {
            padding: 10px 20px;
            border: 2px solid var(--theme-primary);
            background: white;
            color: var(--theme-primary);
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .control-btn:hover {
            background: var(--theme-primary);
            color: white;
        }

        .control-btn.active {
            background: var(--theme-primary);
            color: white;
        }

        .control-btn.prim-btn {
            border-color: var(--prim-color);
            color: var(--prim-color);
        }

        .control-btn.prim-btn:hover,
        .control-btn.prim-btn.active {
            background: var(--prim-color);
            color: white;
        }

        .control-btn.kruskal-btn {
            border-color: var(--kruskal-color);
            color: var(--kruskal-color);
        }

        .control-btn.kruskal-btn:hover,
        .control-btn.kruskal-btn.active {
            background: var(--kruskal-color);
            color: white;
        }

        .control-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* ç”»å¸ƒå®¹å™¨ */
        .canvas-container {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            min-height: 600px;
            position: relative;
        }

        #graphCanvas {
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: crosshair;
            display: block;
            margin: 0 auto;
        }

        /* ä¿¡æ¯é¢æ¿ */
        .info-panel {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-size: 0.95em;
        }

        .info-panel h3 {
            margin-top: 0;
            margin-bottom: 10px;
            color: var(--theme-primary);
        }

        .info-item {
            margin: 5px 0;
            padding: 5px 10px;
            background: white;
            border-radius: 5px;
        }

        .step-info {
            background: #e8f5e9;
            padding: 10px;
            border-radius: 6px;
            margin-top: 10px;
            border-left: 4px solid #4caf50;
        }

        /* æƒé‡è¾“å…¥æ¡† */
        .weight-input-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            z-index: 1000;
            display: none;
        }

        .weight-input-modal.show {
            display: block;
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 999;
            display: none;
        }

        .modal-overlay.show {
            display: block;
        }

        .weight-input-modal h3 {
            margin-top: 0;
            color: var(--theme-primary);
        }

        .weight-input-modal input {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            margin: 10px 0;
        }

        .weight-input-modal .modal-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .weight-input-modal button {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .weight-input-modal .confirm-btn {
            background: var(--theme-primary);
            color: white;
        }

        .weight-input-modal .cancel-btn {
            background: #f0f0f0;
            color: #666;
        }

        .weight-input-modal button:hover {
            opacity: 0.8;
        }

        /* è¯´æ˜æ–‡æœ¬ */
        .instructions {
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border-left: 4px solid #ffc107;
        }

        .instructions h4 {
            margin-top: 0;
            color: #856404;
        }

        .instructions ul {
            margin: 10px 0;
            padding-left: 20px;
        }

        .instructions li {
            margin: 5px 0;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .control-buttons {
                flex-direction: column;
            }

            .control-btn {
                width: 100%;
            }

            #graphCanvas {
                width: 100% !important;
                height: auto !important;
            }
        }
    </style>
</head>
<body>
    
    <main class="container">
        <div class="page-header">
            <h1>ğŸŒ å›¾ç®—æ³•å¯è§†åŒ–</h1>
            <p>äº¤äº’å¼å­¦ä¹  Prim å’Œ Kruskal æœ€å°ç”Ÿæˆæ ‘ç®—æ³•</p>
        </div>

        <!-- ç®—æ³•é€‰æ‹©æ ‡ç­¾ -->
        <div class="tool-tabs">
            <button class="tool-tab active prim-tab" onclick="switchAlgorithm('prim')">
                Prim ç®—æ³•
            </button>
            <button class="tool-tab kruskal-tab" onclick="switchAlgorithm('kruskal')">
                Kruskal ç®—æ³•
            </button>
        </div>

        <!-- Prim ç®—æ³•å†…å®¹ -->
        <div id="primTool" class="tool-content active">
            <div class="section">
                <div class="instructions">
                    <h4>ğŸ“– ä½¿ç”¨è¯´æ˜</h4>
                    <ul>
                        <li><strong>æ·»åŠ èŠ‚ç‚¹ï¼š</strong>ç‚¹å‡»"æ·»åŠ èŠ‚ç‚¹"æŒ‰é’®åï¼Œåœ¨ç”»å¸ƒä¸Šç‚¹å‡»åˆ›å»ºèŠ‚ç‚¹</li>
                        <li><strong>æ·»åŠ è¾¹ï¼š</strong>ç‚¹å‡»"æ·»åŠ è¾¹"æŒ‰é’®åï¼Œä¾æ¬¡ç‚¹å‡»ä¸¤ä¸ªèŠ‚ç‚¹åˆ›å»ºå¸¦æƒé‡çš„è¾¹</li>
                        <li><strong>åˆ é™¤ï¼š</strong>ç‚¹å‡»"åˆ é™¤"æŒ‰é’®åï¼Œç‚¹å‡»èŠ‚ç‚¹æˆ–è¾¹è¿›è¡Œåˆ é™¤</li>
                        <li><strong>è¿è¡Œç®—æ³•ï¼š</strong>ç‚¹å‡»"è¿è¡Œ Prim"æŒ‰é’®ï¼Œä»ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å¼€å§‹æ„å»ºæœ€å°ç”Ÿæˆæ ‘</li>
                        <li><strong>æ¸…ç©ºï¼š</strong>ç‚¹å‡»"æ¸…ç©ºç”»å¸ƒ"é‡æ–°å¼€å§‹</li>
                    </ul>
                </div>

                <div class="instructions">
                    <h4>ğŸ§  ç®—æ³•é€»è¾‘è§„åˆ™</h4>
                    <p>Prim ç®—æ³•æ˜¯ä¸€ç§è´ªå¿ƒç®—æ³•ï¼Œç”¨äºå¯»æ‰¾åŠ æƒæ— å‘å›¾çš„æœ€å°ç”Ÿæˆæ ‘ã€‚å…¶æ ¸å¿ƒé€»è¾‘å¦‚ä¸‹ï¼š</p>
                    <ul>
                        <li><strong>åˆå§‹åŒ–ï¼š</strong>ä»å›¾ä¸­ä»»æ„é€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºèµ·å§‹èŠ‚ç‚¹ï¼Œå°†å…¶åŠ å…¥"å·²è®¿é—®é›†åˆ"ã€‚</li>
                        <li><strong>å¯»æ‰¾æœ€å°è¾¹ï¼š</strong>åœ¨æ‰€æœ‰è¿æ¥"å·²è®¿é—®é›†åˆ"å’Œ"æœªè®¿é—®é›†åˆ"çš„è¾¹ä¸­ï¼Œæ‰¾åˆ°æƒé‡æœ€å°çš„ä¸€æ¡è¾¹ã€‚</li>
                        <li><strong>æ‰©å±•æ ‘ï¼š</strong>å°†è¿™æ¡è¾¹è¿æ¥çš„æœªè®¿é—®èŠ‚ç‚¹åŠ å…¥"å·²è®¿é—®é›†åˆ"ï¼Œå¹¶å°†è¯¥è¾¹åŠ å…¥æœ€å°ç”Ÿæˆæ ‘ã€‚</li>
                        <li><strong>é‡å¤ï¼š</strong>é‡å¤æ­¥éª¤ 2 å’Œ 3ï¼Œç›´åˆ°æ‰€æœ‰èŠ‚ç‚¹éƒ½è¢«è®¿é—®ã€‚</li>
                    </ul>
                </div>

                <div class="control-panel">
                    <div class="control-buttons">
                        <button class="control-btn prim-btn" id="prim-add-node" onclick="setMode('addNode')">â• æ·»åŠ èŠ‚ç‚¹</button>
                        <button class="control-btn prim-btn" id="prim-add-edge" onclick="setMode('addEdge')">ğŸ”— æ·»åŠ è¾¹</button>
                        <button class="control-btn prim-btn" id="prim-delete" onclick="setMode('delete')">ğŸ—‘ï¸ åˆ é™¤</button>
                        <button class="control-btn prim-btn" id="prim-run" onclick="runPrim()">â–¶ï¸ è¿è¡Œ Prim</button>
                        <button class="control-btn prim-btn" id="prim-step" onclick="stepPrim()" disabled>â­ï¸ å•æ­¥æ‰§è¡Œ</button>
                        <button class="control-btn prim-btn" id="prim-reset" onclick="resetAlgorithm()">ğŸ”„ é‡ç½®</button>
                        <button class="control-btn prim-btn" id="prim-clear" onclick="clearCanvas()">ğŸ—‘ï¸ æ¸…ç©ºç”»å¸ƒ</button>
                        <button class="control-btn prim-btn" onclick="loadExample()">ğŸ“ åŠ è½½ç¤ºä¾‹</button>
                    </div>
                </div>

                <div class="canvas-container">
                    <canvas id="graphCanvas" width="900" height="600"></canvas>
                    <div class="info-panel">
                        <h3>ç®—æ³•ä¿¡æ¯</h3>
                        <div class="info-item">
                            <strong>èŠ‚ç‚¹æ•°ï¼š</strong><span id="prim-node-count">0</span>
                        </div>
                        <div class="info-item">
                            <strong>è¾¹æ•°ï¼š</strong><span id="prim-edge-count">0</span>
                        </div>
                        <div class="info-item">
                            <strong>æœ€å°ç”Ÿæˆæ ‘æƒé‡å’Œï¼š</strong><span id="prim-total-weight">-</span>
                        </div>
                        <div id="prim-step-info" class="step-info" style="display:none;">
                            å½“å‰æ­¥éª¤ä¿¡æ¯å°†åœ¨è¿™é‡Œæ˜¾ç¤º
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Kruskal ç®—æ³•å†…å®¹ -->
        <div id="kruskalTool" class="tool-content">
            <div class="section">
                <div class="instructions">
                    <h4>ğŸ“– ä½¿ç”¨è¯´æ˜</h4>
                    <ul>
                        <li><strong>æ·»åŠ èŠ‚ç‚¹ï¼š</strong>ç‚¹å‡»"æ·»åŠ èŠ‚ç‚¹"æŒ‰é’®åï¼Œåœ¨ç”»å¸ƒä¸Šç‚¹å‡»åˆ›å»ºèŠ‚ç‚¹</li>
                        <li><strong>æ·»åŠ è¾¹ï¼š</strong>ç‚¹å‡»"æ·»åŠ è¾¹"æŒ‰é’®åï¼Œä¾æ¬¡ç‚¹å‡»ä¸¤ä¸ªèŠ‚ç‚¹åˆ›å»ºå¸¦æƒé‡çš„è¾¹</li>
                        <li><strong>åˆ é™¤ï¼š</strong>ç‚¹å‡»"åˆ é™¤"æŒ‰é’®åï¼Œç‚¹å‡»èŠ‚ç‚¹æˆ–è¾¹è¿›è¡Œåˆ é™¤</li>
                        <li><strong>è¿è¡Œç®—æ³•ï¼š</strong>ç‚¹å‡»"è¿è¡Œ Kruskal"æŒ‰é’®ï¼ŒæŒ‰è¾¹æƒé‡ä»å°åˆ°å¤§æ„å»ºæœ€å°ç”Ÿæˆæ ‘</li>
                        <li><strong>æ¸…ç©ºï¼š</strong>ç‚¹å‡»"æ¸…ç©ºç”»å¸ƒ"é‡æ–°å¼€å§‹</li>
                    </ul>
                </div>

                <div class="instructions">
                    <h4>ğŸ§  ç®—æ³•é€»è¾‘è§„åˆ™</h4>
                    <p>Kruskal ç®—æ³•ä¹Ÿæ˜¯ä¸€ç§è´ªå¿ƒç®—æ³•ï¼Œå®ƒé€šè¿‡æŒ‰æƒé‡é¡ºåºé€‰æ‹©è¾¹æ¥æ„å»ºæœ€å°ç”Ÿæˆæ ‘ã€‚å…¶æ ¸å¿ƒé€»è¾‘å¦‚ä¸‹ï¼š</p>
                    <ul>
                        <li><strong>æ’åºï¼š</strong>å°†å›¾ä¸­æ‰€æœ‰çš„è¾¹æŒ‰ç…§æƒé‡ä»å°åˆ°å¤§è¿›è¡Œæ’åºã€‚</li>
                        <li><strong>éå†è¾¹ï¼š</strong>ä¾æ¬¡éå†æ’åºåçš„æ¯ä¸€æ¡è¾¹ã€‚</li>
                        <li><strong>åˆ¤æ–­ç¯è·¯ï¼š</strong>å¯¹äºå½“å‰é€‰ä¸­çš„è¾¹ï¼Œæ£€æŸ¥å®ƒè¿æ¥çš„ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦å·²ç»å±äºåŒä¸€ä¸ªè¿é€šåˆ†é‡ï¼ˆå³æ˜¯å¦ä¼šå½¢æˆç¯è·¯ï¼‰ã€‚</li>
                        <li><strong>åˆå¹¶ï¼š</strong>å¦‚æœä¸ä¼šå½¢æˆç¯è·¯ï¼Œåˆ™å°†è¿™æ¡è¾¹åŠ å…¥æœ€å°ç”Ÿæˆæ ‘ï¼Œå¹¶å°†ä¸¤ä¸ªèŠ‚ç‚¹æ‰€åœ¨çš„è¿é€šåˆ†é‡åˆå¹¶ã€‚å¦åˆ™ï¼Œå¿½ç•¥è¿™æ¡è¾¹ã€‚</li>
                        <li><strong>ç»“æŸï¼š</strong>å½“é€‰ä¸­çš„è¾¹æ•°è¾¾åˆ° V-1ï¼ˆVä¸ºèŠ‚ç‚¹æ•°ï¼‰æ—¶ï¼Œç®—æ³•ç»“æŸã€‚</li>
                    </ul>
                </div>

                <div class="control-panel">
                    <div class="control-buttons">
                        <button class="control-btn kruskal-btn" id="kruskal-add-node" onclick="setMode('addNode')">â• æ·»åŠ èŠ‚ç‚¹</button>
                        <button class="control-btn kruskal-btn" id="kruskal-add-edge" onclick="setMode('addEdge')">ğŸ”— æ·»åŠ è¾¹</button>
                        <button class="control-btn kruskal-btn" id="kruskal-delete" onclick="setMode('delete')">ğŸ—‘ï¸ åˆ é™¤</button>
                        <button class="control-btn kruskal-btn" id="kruskal-run" onclick="runKruskal()">â–¶ï¸ è¿è¡Œ Kruskal</button>
                        <button class="control-btn kruskal-btn" id="kruskal-step" onclick="stepKruskal()" disabled>â­ï¸ å•æ­¥æ‰§è¡Œ</button>
                        <button class="control-btn kruskal-btn" id="kruskal-reset" onclick="resetAlgorithm()">ğŸ”„ é‡ç½®</button>
                        <button class="control-btn kruskal-btn" id="kruskal-clear" onclick="clearCanvas()">ğŸ—‘ï¸ æ¸…ç©ºç”»å¸ƒ</button>
                        <button class="control-btn kruskal-btn" onclick="loadExample()">ğŸ“ åŠ è½½ç¤ºä¾‹</button>
                    </div>
                </div>

                <div class="canvas-container">
                    <canvas id="kruskalCanvas" width="900" height="600"></canvas>
                    <div class="info-panel">
                        <h3>ç®—æ³•ä¿¡æ¯</h3>
                        <div class="info-item">
                            <strong>èŠ‚ç‚¹æ•°ï¼š</strong><span id="kruskal-node-count">0</span>
                        </div>
                        <div class="info-item">
                            <strong>è¾¹æ•°ï¼š</strong><span id="kruskal-edge-count">0</span>
                        </div>
                        <div class="info-item">
                            <strong>æœ€å°ç”Ÿæˆæ ‘æƒé‡å’Œï¼š</strong><span id="kruskal-total-weight">-</span>
                        </div>
                        <div id="kruskal-step-info" class="step-info" style="display:none;">
                            å½“å‰æ­¥éª¤ä¿¡æ¯å°†åœ¨è¿™é‡Œæ˜¾ç¤º
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- æƒé‡è¾“å…¥æ¨¡æ€æ¡† -->
    <div class="modal-overlay" id="modalOverlay" onclick="closeWeightModal()"></div>
    <div class="weight-input-modal" id="weightModal">
        <h3>è¾“å…¥è¾¹çš„æƒé‡</h3>
        <input type="number" id="weightInput" placeholder="è¯·è¾“å…¥æƒé‡ï¼ˆæ­£æ•´æ•°ï¼‰" min="1" max="100">
        <div class="modal-buttons">
            <button class="confirm-btn" onclick="confirmWeight()">ç¡®è®¤</button>
            <button class="cancel-btn" onclick="closeWeightModal()">å–æ¶ˆ</button>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-links">
                    <a href="../index.html">é¦–é¡µ</a>
                    <a href="https://github.com/FunctionHookTJU" target="_blank">Github</a>
                    <a href="../pages/products.html">æ›´å¤šäº§å“</a>
                </div>
                <p class="copyright">Â© 2025 å®‡ä½è§å‡½é’©. ä¿ç•™æ‰€æœ‰æƒåˆ©.</p>
            </div>
        </div>
    </footer>

    <script src="../scripts/graph.js"></script>
</body>
</html>
